(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,n){e.exports=n.p+"static/media/image.e0720aed.png"},171:function(e,t,n){e.exports=n(347)},185:function(e,t,n){},216:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(51),c=n.n(o),i=n(15),l=n(37),s=n(18),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var d=n(7),h=n(8),f=n(11),p=n(9),b=n(12),E=n(355),v=n(348),O=n(353),g=n(76),j=n(67),C=n.n(j),k=(n(185),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement(E.a,{bg:"light",expand:"lg"},r.a.createElement(g.LinkContainer,{to:"/"},r.a.createElement(E.a.Brand,null,r.a.createElement(v.a,{src:C.a,id:"navbar-logo"}))),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(O.a,{className:"mr-auto"},r.a.createElement(g.LinkContainer,{to:"/ethinkers-frontend"},r.a.createElement(O.a.Link,null,"Cadastrar")),r.a.createElement(g.LinkContainer,{to:"/ethinkers-frontend/lista_usuarios"},r.a.createElement(O.a.Link,null,"Lista de Usu\xe1rios"))))))}}]),t}(a.Component)),y=n(349),w=n(356),S=n(354),x=n(350),U=n(161),N=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){if(this.props.user)return r.a.createElement(y.a,{className:"text-left"},r.a.createElement(x.a,null,r.a.createElement(U.a,{xs:4,md:2},"Nome:"),r.a.createElement(U.a,{xs:8,md:4},this.props.user.firstname),r.a.createElement(U.a,{xs:4,md:2},"Sobrenome:"),r.a.createElement(U.a,{xs:8,md:4},this.props.user.lastname)),r.a.createElement(x.a,null,r.a.createElement(U.a,{xs:4,md:2},"Email:"),r.a.createElement(U.a,{xs:8,md:10},this.props.user.email)),r.a.createElement(x.a,null,r.a.createElement(U.a,{xs:4,md:2},"Telefone:"),r.a.createElement(U.a,{xs:8,md:10},this.props.user.phone)),r.a.createElement(x.a,null,r.a.createElement(U.a,{xs:4,md:2},"CPF:"),r.a.createElement(U.a,{xs:8,md:10},this.props.user.cpf)))}}]),t}(a.Component),_=Object(i.b)(function(e,t){return{users:e.users[t.user]}})(N),D=n(29),I=n(351),A=n(162),T=n(163),L=new(n(164).a)("ethinkersDB");L.version(1).stores({users:"++id, firstname, lastname, cpf, phone, email, edit, del"});var R=n(165),P=new function e(){Object(d.a)(this,e),this.getUsers=function(){return new Promise(function(e,t){var n,a;(n="/users",new Promise(function(e,t){R.get("".concat("https://private-5e3134-ethinkers.apiary-mock.com").concat(n).concat(a||"")).then(function(t){e(t)}).catch(function(e){t(e)})})).then(function(t){return e(t.data)}).catch(function(e){return t(e)})})}},F=function(){return new Promise(function(e,t){L.table("users").toArray().then(function(t){e(t)}).catch(function(e){return t(e)})})},q=function(){return new Promise(function(e,t){P.getUsers().then(function(t){var n=[];t.forEach(function(a){W(a).then(function(a){n.push(a),n.length===t.length&&e(n)}).catch(function(e){return console.error(e)})})}).catch(function(e){return t(e)})})},W=function(e){return new Promise(function(t,n){L.table("users").add(e).then(function(n){e.id=n,t(e)}).catch(function(e){return n(e)})})},B=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(D.a)(Object(D.a)(n))),n.state={delete:!1},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"handleClick",value:function(){var e=this;this.setState({delete:!0},function(){e.props.deleteUser(e.props.user.id)})}},{key:"render",value:function(){return r.a.createElement(I.a,{className:"float-right",variant:this.state.delete?"danger":"outline-danger",onClick:this.state.delete?null:this.handleClick},r.a.createElement(A.a,{icon:T.a}))}}]),t}(a.Component),G=Object(i.b)(function(e,t){return{users:e.users[t.user]}},{deleteUser:function(e){return function(t){L.table("users").delete(e).then(function(){F().then(function(e){t({type:"DELETE_USER",payload:e})}).catch(function(e){return console.error(e)})}).catch(function(e){return console.error(e)})}}})(B),V=(n(216),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).state={users:[]},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"mountCard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map(function(e){return r.a.createElement(w.a,{key:'"user-"'.concat(e.id,'"')},r.a.createElement(S.a.Toggle,{as:w.a.Header,eventKey:"0",className:"user-name"},"".concat(e.firstname," ").concat(e.lastname)," ",r.a.createElement(G,{key:"delete-".concat(e.id),user:e})),r.a.createElement(S.a.Collapse,{eventKey:"0"},r.a.createElement(w.a.Body,null,r.a.createElement(_,{user:e}))))}):r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,"NENHUM USU\xc1RIO ENCONTRADO!"),r.a.createElement(w.a.Body,null,"N\xe3o h\xe1 nenhum usu\xe1rio cadastrado no momento."))}},{key:"render",value:function(){return r.a.createElement(S.a,{defaultActiveKey:"0"},this.props.users?this.mountCard(this.props.users):"")}}]),t}(a.Component)),X=Object(i.b)(function(e){return{users:e.users}})(V),H=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement(X,null))}}]),t}(a.Component),K=n(166),M=n.n(K),J=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(U.a,{xs:12,md:6,className:"p-0"},r.a.createElement(v.a,{src:M.a,fluid:!0}))}}]),t}(a.Component),$=n(352),z=n(170),Q=n(31),Y=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(D.a)(Object(D.a)(n))),n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"handleClick",value:function(){this.props.addUser(this.props.values)}},{key:"render",value:function(){return r.a.createElement(I.a,{onClick:this.handleClick},"Cadastrar")}}]),t}(a.Component),Z=Object(i.b)(null,{addUser:function(e){return function(t){delete e.terms,W(e).then(function(){F().then(function(e){t({type:"ADD_USER",payload:e})}).catch(function(e){return console.error(e)})}).catch(function(e){return console.error(e)})}}})(Y),ee=(n(344),Q.object().shape({firstname:Q.string().required("Campo de preenchimento obrigat\xf3rio."),lastname:Q.string().required("Campo de preenchimento obrigat\xf3rio."),email:Q.string().email("e-mail inv\xe1lido, n\xe3o possui @").required("Campo de preenchimento obrigat\xf3rio."),phone:Q.number().typeError("Digite somente os n\xfameros").required("Campo de preenchimento obrigat\xf3rio."),cpf:Q.number().typeError("Digite somente os n\xfameros.").max(99999999999,"CPF inv\xe1lido").required("Campo de preenchimento obrigat\xf3rio."),terms:Q.bool().required("Aceita\xe7\xe3o dos termos \xe9 obrigat\xf3ria.").test("terms","Aceita\xe7\xe3o dos termos \xe9 obrigat\xf3ria.",function(e){return!!e})})),te={firstname:"",lastname:"",email:"",terms:!1},ne=function(e){e&&ee.validate(e).then(function(e){return!0}).catch(function(e){return!1})};function ae(){var e=this;return r.a.createElement(z.a,{validationSchema:ee,onSubmit:function(t){e.setState({values:t}),ne(t)},initialValues:te},function(e){var t=e.handleSubmit,n=e.handleChange,a=e.values,o=e.errors;return r.a.createElement($.a,{noValidate:!0,onSubmit:t},r.a.createElement(x.a,null,r.a.createElement(U.a,{sm:12,md:6},r.a.createElement($.a.Group,{controlId:"ethinkerCadastroNome"},r.a.createElement($.a.Control,{type:"text",name:"firstname",placeholder:"Nome",onChange:n,isInvalid:o.firstname,value:a.firstname}),r.a.createElement($.a.Control.Feedback,{type:"invalid"},o.firstname))),r.a.createElement(U.a,{sm:12,md:6},r.a.createElement($.a.Group,{controlId:"ethinkerCadastroSobrenome"},r.a.createElement($.a.Control,{type:"text",name:"lastname",placeholder:"Sobrenome",onChange:n,isInvalid:o.lastname,value:a.lastname}),r.a.createElement($.a.Control.Feedback,{type:"invalid"},o.lastname)))),r.a.createElement($.a.Group,{controlId:"ethinkerCadastroEmail"},r.a.createElement($.a.Control,{type:"text",name:"email",placeholder:"e-mail",onChange:n,isInvalid:o.email,value:a.email}),r.a.createElement($.a.Control.Feedback,{type:"invalid"},o.email)),r.a.createElement($.a.Group,{controlId:"ethinkerCadastroTel"},r.a.createElement($.a.Control,{type:"number",name:"phone",placeholder:"Telefone",onChange:n,isInvalid:o.phone,value:a.phone}),r.a.createElement($.a.Control.Feedback,{type:"invalid"},o.phone)),r.a.createElement($.a.Group,{controlId:"ethinkerCadastroCPF"},r.a.createElement($.a.Control,{type:"number",name:"cpf",placeholder:"CPF",onChange:n,isInvalid:o.cpf,value:a.cpf}),r.a.createElement($.a.Control.Feedback,{type:"invalid"},o.cpf)),r.a.createElement($.a.Group,{controlId:"ethinkerCadastroTermos"},r.a.createElement($.a.Check,{type:"checkbox",name:"terms",label:"Eu aceito os termos e condi\xe7\xf5es",onChange:n,isInvalid:o.terms,feedback:o.terms,value:a.terms})),r.a.createElement(Z,{values:a,disabled:!ne(a)}))})}var re=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(U.a,{xs:12,md:6,className:"d-flex"},r.a.createElement(y.a,{className:"align-self-center"},r.a.createElement(v.a,{src:C.a,className:"form-logo"}),r.a.createElement("p",null,"Por favor, complete o cadastro abaixo"),r.a.createElement(ae,null),r.a.createElement("p",null,"N\xe3o tem conta? Cadastre-se aqui!")))}}]),t}(a.Component),oe=Object(i.b)()(re),ce=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{fluid:!0},r.a.createElement(x.a,null,r.a.createElement(J,null),r.a.createElement(oe,null)))}}]),t}(a.Component),ie=(n(345),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,null),r.a.createElement(l.g,null,r.a.createElement(l.d,{exact:!0,path:"/ethinkers-frontend",component:ce}),r.a.createElement(l.d,{path:"/ethinkers-frontend/lista_usuarios",component:H})))}}]),t}(a.Component)),le=Object(i.b)(null,{loadUsers:function(){return function(e){F().then(function(t){t.length?e({type:"LOAD_USERS",payload:t}):q().then(function(t){e({type:"LOAD_USERS",payload:t})})}).catch(function(e){return console.error(e)})}}})(ie),se=n(38),ue=n(169),me=[{id:0,firstname:"",lastname:"",cpf:"",phone:"",email:""}],de=Object(se.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ADD_USER":case"EDIT_USER":case"DELETE_USER":case"LOAD_USERS":return a;default:return e}}}),he=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||se.d,fe=Object(se.e)(de,he(Object(se.a)(ue.a))),pe=(n(346),Object(s.a)());c.a.render(r.a.createElement(i.a,{store:fe},r.a.createElement(l.e,{history:pe},r.a.createElement(le,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ethinkers-frontend",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/ethinkers-frontend","/service-worker.js");u?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):m(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):m(t,e)})}}()},67:function(e,t,n){e.exports=n.p+"static/media/ethinkers_logo.ce815b7e.png"}},[[171,1,2]]]);
//# sourceMappingURL=main.e80592ae.chunk.js.map